{"ast":null,"code":"import _defineProperty from\"/home/rafael/Documents/projects/Recipes-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/rafael/Documents/projects/Recipes-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rafael/Documents/projects/Recipes-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/rafael/Documents/projects/Recipes-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/rafael/Documents/projects/Recipes-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rafael/Documents/projects/Recipes-App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Form}from'react-bootstrap';import'../Login.css';import'animate.css';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.state={email:'',password:'',valid:true};_this.handleChangeForm=_this.handleChangeForm.bind(_assertThisInitialized(_this));_this.loginUser=_this.loginUser.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleChangeForm\",value:function handleChangeForm(_ref){var target=_ref.target;var name=target.name,value=target.value;this.setState(_defineProperty({},name,value));this.validateLogin();}},{key:\"loginUser\",value:function loginUser(e){e.preventDefault();var history=this.props.history;var email=this.state.email;localStorage.setItem('user',JSON.stringify({email:email}));localStorage.setItem('mealsToken',1);localStorage.setItem('cocktailsToken',1);history.push('/comidas');}},{key:\"validateLogin\",value:function validateLogin(){var _this$state=this.state,email=_this$state.email,password=_this$state.password;var minSize=6;var re=/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/;if(password.length>=minSize&&re.test(email)){this.setState({valid:false});}else{this.setState({valid:true});}}},{key:\"renderLoginForm\",value:function renderLoginForm(){var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,valid=_this$state2.valid;return/*#__PURE__*/React.createElement(Form,{className:\"login-form\"},/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",name:\"email\",placeholder:\"Digite seu e-mail\",\"data-testid\":\"email-input\",value:email,onChange:this.handleChangeForm})),/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",name:\"password\",placeholder:\"Digite sua senha\",\"data-testid\":\"password-input\",value:password,onChange:this.handleChangeForm})),/*#__PURE__*/React.createElement(Button,{className:\"login-button btn btn-warning\",type:\"submit\",size:\"m\",\"data-testid\":\"login-submit-btn\",disabled:valid,onClick:this.loginUser},\"Entrar\"));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"main\",{className:\"body-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"app-name animate__animated animate__heartBeat animate__repeat-2\"},\"Beyond Kitchen\"),/*#__PURE__*/React.createElement(\"h2\",{className:\"login\"},\"Login\"),this.renderLoginForm()));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/home/rafael/Documents/projects/Recipes-App/src/pages/Login.js"],"names":["React","Component","Button","Form","Login","state","email","password","valid","handleChangeForm","bind","loginUser","target","name","value","setState","validateLogin","e","preventDefault","history","props","localStorage","setItem","JSON","stringify","push","minSize","re","length","test","renderLoginForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Form } from 'react-bootstrap';\nimport '../Login.css';\nimport 'animate.css';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      email: '',\n      password: '',\n      valid: true,\n    };\n    this.handleChangeForm = this.handleChangeForm.bind(this);\n    this.loginUser = this.loginUser.bind(this);\n  }\n\n  handleChangeForm({ target }) {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    });\n    this.validateLogin();\n  }\n\n  loginUser(e) {\n    e.preventDefault();\n    const { history } = this.props;\n    const { email } = this.state;\n    localStorage.setItem('user', JSON.stringify({ email }));\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    history.push('/comidas');\n  }\n\n  validateLogin() {\n    const { email, password } = this.state;\n    const minSize = 6;\n    const re = /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/;\n    if (password.length >= minSize && re.test(email)) {\n      this.setState({\n        valid: false,\n      });\n    } else {\n      this.setState({\n        valid: true,\n      });\n    }\n  }\n\n  renderLoginForm() {\n    const { email, password, valid } = this.state;\n    return (\n      <Form className=\"login-form\">\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n          <Form.Control\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Digite seu e-mail\"\n            data-testid=\"email-input\"\n            value={ email }\n            onChange={ this.handleChangeForm }\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n          <Form.Control\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Digite sua senha\"\n            data-testid=\"password-input\"\n            value={ password }\n            onChange={ this.handleChangeForm }\n          />\n        </Form.Group>\n        <Button\n          className=\"login-button btn btn-warning\"\n          type=\"submit\"\n          size=\"m\"\n          data-testid=\"login-submit-btn\"\n          disabled={ valid }\n          onClick={ this.loginUser }\n        >\n          Entrar\n        </Button>\n      </Form>\n    );\n  }\n\n  render() {\n    return (\n      <main className=\"body-page\">\n        <div className=\"container\">\n          <h1\n            className=\"app-name animate__animated animate__heartBeat animate__repeat-2\"\n          >\n            Beyond Kitchen\n          </h1>\n          <h2 className=\"login\">Login</h2>\n          {this.renderLoginForm()}\n        </div>\n      </main>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}